def backtrack(assignment, constraints):
    if all constraints are satisfied:
        return assignment
    var = select_unassigned_variable(assignment)
    for value in domain(var):
        if consistent(var, value, assignment, constraints):
            assignment[var] = value
            result = backtrack(assignment, constraints)
            if result is not None:
                return result
            del assignment[var]
    return None