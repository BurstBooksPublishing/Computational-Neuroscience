import ipywidgets as widgets
from IPython.display import display

# Define a function to update the plot
def update_plot(I_ext):
    sol = solve_ivp(hodgkin_huxley, t_span, y0, args=(C_m, g_Na, g_K, g_L, E_Na, E_K, E_L, I_ext), t_eval=np.linspace(0, 50, 1000))
    plt.plot(sol.t, sol.y[0], label=f'I_ext = {I_ext} uA/cm^2')
    plt.xlabel('Time (ms)')
    plt.ylabel('V (mV)')
    plt.legend()
    plt.show()

# Create a slider for the external current
I_ext_slider = widgets.FloatSlider(value=10.0, min=0.0, max=20.0, step=0.1, description='I_ext (uA/cm^2):')

# Display the interactive widget
widgets.interact(update_plot, I_ext=I_ext_slider)