import nest
import nest.raster_plot

# Initialize MPI
nest.ResetKernel()
nest.SetKernelStatus({"local_num_threads": 4, "resolution": 0.1})

# Create neurons and devices
neurons = nest.Create("iaf_psc_alpha", 1000)
spike_detector = nest.Create("spike_detector")

# Connect neurons
nest.Connect(neurons, spike_detector)

# Simulate
nest.Simulate(1000.0)