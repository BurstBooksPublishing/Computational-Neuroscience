import nest

# Initialize NEST with MPI
nest.SetKernelStatus({'local_num_threads': 4})

# Create neurons and devices
num_neurons = 100000
neurons = nest.Create('iaf_psc_alpha', num_neurons)
spike_detector = nest.Create('spike_detector')

# Connect neurons with synapses
nest.Connect(neurons, spike_detector)

# Run simulation
nest.Simulate(1000.0)