import numpy as np

# Parameters
num_compartments = 100
dt = 0.01  # Time step (ms)
t_max = 100  # Total simulation time (ms)
lambda_ = 1.0  # Space constant (mm)
tau_m = 10.0  # Membrane time constant (ms)

# Initialize voltage array
V = np.zeros(num_compartments)
V[0] = 1.0  # Initial voltage at the source

# Simulation loop
for t in np.arange(0, t_max, dt):
    for i in range(1, num_compartments):
        V[i] = V[i] + dt/tau_m * (V[i-1] - V[i]) - dt/tau_m * V[i]