from sklearn.cluster import KMeans
import numpy as np

# Example time-varying connectivity matrices
C = np.random.rand(100, 10, 10)  # 100 time points, 10x10 connectivity matrices

# Reshape matrices for clustering
C_reshaped = C.reshape(100, -1)

# Apply k-means clustering
kmeans = KMeans(n_clusters=5)
labels = kmeans.fit_predict(C_reshaped)